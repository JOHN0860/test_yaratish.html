<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>Test yaratish</title>

<!-- MathLive -->
<script src="https://unpkg.com/mathlive/dist/mathlive.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/mathlive/dist/mathlive.core.css">

<style>
body{
  font-family:Arial,sans-serif;
  background:#f3f4f6;
  padding:15px;
}
.card{
  background:#fff;
  padding:15px;
  margin-bottom:15px;
  border-radius:12px;
}
.q{
  font-weight:bold;
  margin-bottom:10px;
}
.row{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:8px;
}
.kbd{
  font-size:22px;
  cursor:pointer;
}
math-field{
  flex:1;
  min-height:48px;
  font-size:18px;
  border:1px solid #ccc;
  border-radius:8px;
  padding:6px;
}
button{
  width:100%;
  padding:14px;
  font-size:18px;
  background:#22c55e;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
}
.code{
  text-align:center;
  font-size:26px;
  font-weight:bold;
  margin-top:15px;
}
</style>
</head>

<body>

<h2>üìù Test yaratish</h2>
<div id="app"></div>

<button onclick="createTest()">‚úÖ Test yaratish</button>
<div class="code" id="code"></div>

<script>
const app = document.getElementById("app");

/* 1‚Äì35: A/B BELGILASH */
for(let i=1;i<=35;i++){
  app.innerHTML+=`
  <div class="card">
    <div class="q">${i}-savol</div>
    <label><input type="radio" name="q${i}" value="A"> A</label><br>
    <label><input type="radio" name="q${i}" value="B"> B</label>
  </div>`;
}

/* 36‚Äì45: YOZMA (A/B QO‚ÄòLDA) */
for(let i=36;i<=45;i++){
  app.innerHTML+=`
  <div class="card">
    <div class="q">${i}-savol</div>

    <div class="row">
      <b>A:</b>
      <span class="kbd" onclick="openMath('A${i}')">üßÆ</span>
      <math-field id="A${i}" virtual-keyboard-mode="onfocus"></math-field>
    </div>

    <div class="row">
      <b>B:</b>
      <span class="kbd" onclick="openMath('B${i}')">üßÆ</span>
      <math-field id="B${i}" virtual-keyboard-mode="onfocus"></math-field>
    </div>
  </div>`;
}

function openMath(id){
  document.getElementById(id).focus();
}

/* TEST YARATISH */
function createTest(){
  let test={};

  for(let i=1;i<=35;i++){
    let v=document.querySelector(`input[name="q${i}"]:checked`);
    if(v) test[i]=v.value;
  }

  for(let i=36;i<=45;i++){
    test[i]={
      A:document.getElementById("A"+i).value,
      B:document.getElementById("B"+i).value
    };
  }

  const code=Math.random().toString(36).substring(2,8).toUpperCase();
  localStorage.setItem("TEST_"+code,JSON.stringify(test));
  document.getElementById("code").innerText="üìå Test kodi: "+code;
}
</script>

</body>
</html>
